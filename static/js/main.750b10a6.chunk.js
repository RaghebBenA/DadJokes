(this["webpackJsonpdad-jokes"]=this["webpackJsonpdad-jokes"]||[]).push([[0],{105:function(e,t,a){},108:function(e,t,a){},171:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(38),c=a.n(o),s=(a(85),a(86),a(74)),i=a(39),l=a.n(i),m=a(79),u=a(75),f=a(40),p=a(76),d=a.n(p),b=(a(105),a(77)),v=a.n(b),j=(a(108),function(e){var t=e.text,a=e.votes,n=e.upvote,o=e.downvote,c=function(e,t){if(t>=e)return t},s=function(){var e;switch(a){case c(15,a):e={color:"#4CAF50",emoji:"em em-rolling_on_the_floor_laughing"};break;case c(12,a):e={color:"#8BC34A",emoji:"em em-laughing"};break;case c(9,a):e={color:"#CDDC39",emoji:"em em-smiley"};break;case c(6,a):e={color:"#FFEB3B",emoji:"em em-slightly_smiling_face"};break;case c(3,a):e={color:"#FFC107",emoji:"em em-neutral_face"};break;case c(0,a):e={color:"#FF9800",emoji:"em em-confused"};break;default:e={color:"#f44336",emoji:"em em-angry"}}return e};return r.a.createElement("div",{className:"Joke"},r.a.createElement("div",{className:"Joke-buttons"},r.a.createElement("i",{className:"fas fa-arrow-up",onClick:n}),r.a.createElement("span",{className:"Joke-votes",style:{borderColor:s().color}},a),r.a.createElement("i",{className:"fas fa-arrow-down",onClick:o})),r.a.createElement("div",{className:"Joke-text"},t),r.a.createElement("div",{className:"Joke-smiley"},r.a.createElement("i",{className:s().emoji})))}),k=a(78),g=a.n(k);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var O=function(){var e=Object(n.useState)(JSON.parse(window.localStorage.getItem("jokes")||"[]")),t=Object(f.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),i=Object(f.a)(c,2),p=i[0],b=i[1],k=new Set(a.map((function(e){return e.text}))),O=Object(n.useCallback)(Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=[],b(!0);case 3:if(!(t.length<10)){e.next=10;break}return e.next=6,d.a.get("https://icanhazdadjoke.com/",{headers:{Accept:"application/json"}});case 6:a=e.sent,k.has(a.data.joke)||t.push({id:v()(),text:a.data.joke,votes:0}),e.next=3;break;case 10:o((function(e){return[].concat(Object(m.a)(e),t)})),b(!1),window.localStorage.setItem("jokes",JSON.stringify(t)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),alert(e.t0),b(!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])}))),[k]);Object(n.useEffect)((function(){window.localStorage.setItem("jokes",JSON.stringify(a)),0===a.length&&O()}),[O,a]);var h=function(e,t){o((function(a){return a.map((function(a){return a.id===e?function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a,{votes:a.votes+t}):a}))}))},w=a.sort((function(e,t){return t.votes-e.votes}));return p?r.a.createElement("div",{className:"spinner-Loading"},r.a.createElement("i",{className:"far fa-8x fa-laugh fa-spin"}),r.a.createElement("h1",null,"...Loading")):r.a.createElement("div",{className:"JokeList"},r.a.createElement("div",{className:"JokeList-sidebar"},r.a.createElement("h1",null,r.a.createElement("span",null,"Dad")," Jokes"),r.a.createElement("img",{alt:"emoji",src:"https://assets.dryicons.com/uploads/icon/svg/8927/0eb14c71-38f2-433a-bfc8-23d9c99b3647.svg"}),r.a.createElement("button",{onClick:function(){b(!0),O()}},"New Jokes")),r.a.createElement("div",{className:"JokeList-jokes"},r.a.createElement(g.a,null,w.map((function(e){var t=e.text,a=e.votes,n=e.id;return r.a.createElement(j,{key:n,text:t,votes:a,upvote:function(){return h(n,1)},downvote:function(){return h(n,-1)}})})))))};var h=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(O,null))};c.a.render(r.a.createElement(h,null),document.getElementById("root"))},80:function(e,t,a){e.exports=a(171)},85:function(e,t,a){},86:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.750b10a6.chunk.js.map